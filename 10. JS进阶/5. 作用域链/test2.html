<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>

<body>
    <script>
        var count = 100;
        function A() {
            var count = 0;
            return function() {
                count++;
                console.log(count);
            }
        }

        var test = A();
        // A函数执行完返回一个匿名函数，匿名函数的[[scope]]指向当时创建它的AO，AO上有count数据
        // 匿名函数被赋值给全局变量test，能被访问到，所以js回收机制不会销毁他

        test();
        // 之后每执行一次就会从作用域链上找到当时创建它的AO，然后执行函数（对数据进行操作）
        test();
        test();

        console.log(count);

        test = null 
        // 解除闭包 

    </script>
</body>

</html>